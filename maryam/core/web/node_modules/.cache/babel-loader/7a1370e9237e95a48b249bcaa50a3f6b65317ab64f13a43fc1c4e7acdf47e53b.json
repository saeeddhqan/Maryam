{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { unstable_useId as useId, unstable_useForkRef as useForkRef } from '@mui/utils';\nimport { MenuUnstyledContext } from '../MenuUnstyled';\nimport { useButton } from '../ButtonUnstyled';\nimport useForcedRerendering from '../utils/useForcedRerendering';\n\n/**\n *\n * Demos:\n *\n * - [Unstyled Menu](https://mui.com/base/react-menu/#hooks)\n *\n * API:\n *\n * - [useMenuItem API](https://mui.com/base/api/use-menu-item/)\n */\nexport default function useMenuItem(props) {\n  var _itemState$disabled;\n  const {\n    disabled = false,\n    ref,\n    label\n  } = props;\n  const id = useId();\n  const menuContext = React.useContext(MenuUnstyledContext);\n  const itemRef = React.useRef(null);\n  const handleRef = useForkRef(itemRef, ref);\n  if (menuContext === null) {\n    throw new Error('MenuItemUnstyled must be used within a MenuUnstyled');\n  }\n  const {\n    registerItem,\n    unregisterItem,\n    open,\n    registerHighlightChangeHandler\n  } = menuContext;\n  React.useEffect(() => {\n    if (id === undefined) {\n      return undefined;\n    }\n    registerItem(id, {\n      disabled,\n      id,\n      ref: itemRef,\n      label\n    });\n    return () => unregisterItem(id);\n  }, [id, registerItem, unregisterItem, disabled, ref, label]);\n  const {\n    getRootProps: getButtonProps,\n    focusVisible\n  } = useButton({\n    disabled,\n    focusableWhenDisabled: true,\n    ref: handleRef\n  });\n\n  // Ensure the menu item is focused when highlighted\n  const [focusRequested, requestFocus] = React.useState(false);\n  const focusIfRequested = React.useCallback(() => {\n    if (focusRequested && itemRef.current != null) {\n      itemRef.current.focus();\n      requestFocus(false);\n    }\n  }, [focusRequested]);\n  React.useEffect(() => {\n    focusIfRequested();\n  });\n  React.useDebugValue({\n    id,\n    disabled,\n    label\n  });\n  const itemState = menuContext.getItemState(id != null ? id : '');\n  const {\n    highlighted\n  } = itemState != null ? itemState : {\n    highlighted: false\n  };\n  const rerender = useForcedRerendering();\n  React.useEffect(() => {\n    function updateHighlightedState(highlightedItemId) {\n      if (highlightedItemId === id && !highlighted) {\n        rerender();\n      } else if (highlightedItemId !== id && highlighted) {\n        rerender();\n      }\n    }\n    return registerHighlightChangeHandler(updateHighlightedState);\n  });\n  React.useEffect(() => {\n    // TODO: this should be handled by the MenuButton\n    requestFocus(highlighted && open);\n  }, [highlighted, open]);\n  if (id === undefined) {\n    return {\n      getRootProps: other => _extends({}, other, getButtonProps(other), {\n        role: 'menuitem'\n      }),\n      disabled: false,\n      focusVisible,\n      highlighted: false\n    };\n  }\n  return {\n    getRootProps: other => {\n      const optionProps = menuContext.getItemProps(id, other);\n      return _extends({}, other, getButtonProps(other), {\n        tabIndex: optionProps.tabIndex,\n        id: optionProps.id,\n        role: 'menuitem'\n      });\n    },\n    disabled: (_itemState$disabled = itemState == null ? void 0 : itemState.disabled) != null ? _itemState$disabled : false,\n    focusVisible,\n    highlighted\n  };\n}","map":{"version":3,"names":["_extends","React","unstable_useId","useId","unstable_useForkRef","useForkRef","MenuUnstyledContext","useButton","useForcedRerendering","useMenuItem","props","_itemState$disabled","disabled","ref","label","id","menuContext","useContext","itemRef","useRef","handleRef","Error","registerItem","unregisterItem","open","registerHighlightChangeHandler","useEffect","undefined","getRootProps","getButtonProps","focusVisible","focusableWhenDisabled","focusRequested","requestFocus","useState","focusIfRequested","useCallback","current","focus","useDebugValue","itemState","getItemState","highlighted","rerender","updateHighlightedState","highlightedItemId","other","role","optionProps","getItemProps","tabIndex"],"sources":["/home/vasu/Gsoc/website/project/node_modules/@mui/base/MenuItemUnstyled/useMenuItem.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { unstable_useId as useId, unstable_useForkRef as useForkRef } from '@mui/utils';\nimport { MenuUnstyledContext } from '../MenuUnstyled';\nimport { useButton } from '../ButtonUnstyled';\nimport useForcedRerendering from '../utils/useForcedRerendering';\n\n/**\n *\n * Demos:\n *\n * - [Unstyled Menu](https://mui.com/base/react-menu/#hooks)\n *\n * API:\n *\n * - [useMenuItem API](https://mui.com/base/api/use-menu-item/)\n */\nexport default function useMenuItem(props) {\n  var _itemState$disabled;\n  const {\n    disabled = false,\n    ref,\n    label\n  } = props;\n  const id = useId();\n  const menuContext = React.useContext(MenuUnstyledContext);\n  const itemRef = React.useRef(null);\n  const handleRef = useForkRef(itemRef, ref);\n  if (menuContext === null) {\n    throw new Error('MenuItemUnstyled must be used within a MenuUnstyled');\n  }\n  const {\n    registerItem,\n    unregisterItem,\n    open,\n    registerHighlightChangeHandler\n  } = menuContext;\n  React.useEffect(() => {\n    if (id === undefined) {\n      return undefined;\n    }\n    registerItem(id, {\n      disabled,\n      id,\n      ref: itemRef,\n      label\n    });\n    return () => unregisterItem(id);\n  }, [id, registerItem, unregisterItem, disabled, ref, label]);\n  const {\n    getRootProps: getButtonProps,\n    focusVisible\n  } = useButton({\n    disabled,\n    focusableWhenDisabled: true,\n    ref: handleRef\n  });\n\n  // Ensure the menu item is focused when highlighted\n  const [focusRequested, requestFocus] = React.useState(false);\n  const focusIfRequested = React.useCallback(() => {\n    if (focusRequested && itemRef.current != null) {\n      itemRef.current.focus();\n      requestFocus(false);\n    }\n  }, [focusRequested]);\n  React.useEffect(() => {\n    focusIfRequested();\n  });\n  React.useDebugValue({\n    id,\n    disabled,\n    label\n  });\n  const itemState = menuContext.getItemState(id != null ? id : '');\n  const {\n    highlighted\n  } = itemState != null ? itemState : {\n    highlighted: false\n  };\n  const rerender = useForcedRerendering();\n  React.useEffect(() => {\n    function updateHighlightedState(highlightedItemId) {\n      if (highlightedItemId === id && !highlighted) {\n        rerender();\n      } else if (highlightedItemId !== id && highlighted) {\n        rerender();\n      }\n    }\n    return registerHighlightChangeHandler(updateHighlightedState);\n  });\n  React.useEffect(() => {\n    // TODO: this should be handled by the MenuButton\n    requestFocus(highlighted && open);\n  }, [highlighted, open]);\n  if (id === undefined) {\n    return {\n      getRootProps: other => _extends({}, other, getButtonProps(other), {\n        role: 'menuitem'\n      }),\n      disabled: false,\n      focusVisible,\n      highlighted: false\n    };\n  }\n  return {\n    getRootProps: other => {\n      const optionProps = menuContext.getItemProps(id, other);\n      return _extends({}, other, getButtonProps(other), {\n        tabIndex: optionProps.tabIndex,\n        id: optionProps.id,\n        role: 'menuitem'\n      });\n    },\n    disabled: (_itemState$disabled = itemState == null ? void 0 : itemState.disabled) != null ? _itemState$disabled : false,\n    focusVisible,\n    highlighted\n  };\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}