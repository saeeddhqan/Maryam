{"ast":null,"code":"import * as React from 'react';\nexport function createMessageBus() {\n  const listeners = new Map();\n  function subscribe(topic, callback) {\n    let topicListeners = listeners.get(topic);\n    if (!topicListeners) {\n      topicListeners = new Set([callback]);\n      listeners.set(topic, topicListeners);\n    } else {\n      topicListeners.add(callback);\n    }\n    return () => {\n      topicListeners.delete(callback);\n      if (topicListeners.size === 0) {\n        listeners.delete(topic);\n      }\n    };\n  }\n  function publish(topic) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    const topicListeners = listeners.get(topic);\n    if (topicListeners) {\n      topicListeners.forEach(callback => callback(...args));\n    }\n  }\n  return {\n    subscribe,\n    publish\n  };\n}\n\n/**\n * @ignore - internal hook.\n */\nexport default function useMessageBus() {\n  const bus = React.useRef();\n  if (!bus.current) {\n    bus.current = createMessageBus();\n  }\n  return bus.current;\n}","map":{"version":3,"names":["React","createMessageBus","listeners","Map","subscribe","topic","callback","topicListeners","get","Set","set","add","delete","size","publish","args","forEach","useMessageBus","bus","useRef","current"],"sources":["/home/vasu/Gsoc/website/project/node_modules/@mui/base/utils/useMessageBus.js"],"sourcesContent":["import * as React from 'react';\nexport function createMessageBus() {\n  const listeners = new Map();\n  function subscribe(topic, callback) {\n    let topicListeners = listeners.get(topic);\n    if (!topicListeners) {\n      topicListeners = new Set([callback]);\n      listeners.set(topic, topicListeners);\n    } else {\n      topicListeners.add(callback);\n    }\n    return () => {\n      topicListeners.delete(callback);\n      if (topicListeners.size === 0) {\n        listeners.delete(topic);\n      }\n    };\n  }\n  function publish(topic, ...args) {\n    const topicListeners = listeners.get(topic);\n    if (topicListeners) {\n      topicListeners.forEach(callback => callback(...args));\n    }\n  }\n  return {\n    subscribe,\n    publish\n  };\n}\n\n/**\n * @ignore - internal hook.\n */\nexport default function useMessageBus() {\n  const bus = React.useRef();\n  if (!bus.current) {\n    bus.current = createMessageBus();\n  }\n  return bus.current;\n}"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,OAAO,SAASC,gBAAgB,GAAG;EACjC,MAAMC,SAAS,GAAG,IAAIC,GAAG,EAAE;EAC3B,SAASC,SAAS,CAACC,KAAK,EAAEC,QAAQ,EAAE;IAClC,IAAIC,cAAc,GAAGL,SAAS,CAACM,GAAG,CAACH,KAAK,CAAC;IACzC,IAAI,CAACE,cAAc,EAAE;MACnBA,cAAc,GAAG,IAAIE,GAAG,CAAC,CAACH,QAAQ,CAAC,CAAC;MACpCJ,SAAS,CAACQ,GAAG,CAACL,KAAK,EAAEE,cAAc,CAAC;IACtC,CAAC,MAAM;MACLA,cAAc,CAACI,GAAG,CAACL,QAAQ,CAAC;IAC9B;IACA,OAAO,MAAM;MACXC,cAAc,CAACK,MAAM,CAACN,QAAQ,CAAC;MAC/B,IAAIC,cAAc,CAACM,IAAI,KAAK,CAAC,EAAE;QAC7BX,SAAS,CAACU,MAAM,CAACP,KAAK,CAAC;MACzB;IACF,CAAC;EACH;EACA,SAASS,OAAO,CAACT,KAAK,EAAW;IAAA,kCAANU,IAAI;MAAJA,IAAI;IAAA;IAC7B,MAAMR,cAAc,GAAGL,SAAS,CAACM,GAAG,CAACH,KAAK,CAAC;IAC3C,IAAIE,cAAc,EAAE;MAClBA,cAAc,CAACS,OAAO,CAACV,QAAQ,IAAIA,QAAQ,CAAC,GAAGS,IAAI,CAAC,CAAC;IACvD;EACF;EACA,OAAO;IACLX,SAAS;IACTU;EACF,CAAC;AACH;;AAEA;AACA;AACA;AACA,eAAe,SAASG,aAAa,GAAG;EACtC,MAAMC,GAAG,GAAGlB,KAAK,CAACmB,MAAM,EAAE;EAC1B,IAAI,CAACD,GAAG,CAACE,OAAO,EAAE;IAChBF,GAAG,CAACE,OAAO,GAAGnB,gBAAgB,EAAE;EAClC;EACA,OAAOiB,GAAG,CAACE,OAAO;AACpB"},"metadata":{},"sourceType":"module","externalDependencies":[]}