{"version":3,"names":["moduleName","dirname","absoluteRuntime","resolveAbsoluteRuntime","path","resolve","paths","replace","err","code","Object","assign","Error","runtime","resolveFSPath","require"],"sources":["../../src/get-runtime-path/index.ts"],"sourcesContent":["import path from \"path\";\n\nimport { createRequire } from \"module\";\nconst require = createRequire(import.meta.url);\n\nexport default function (\n  moduleName: string,\n  dirname: string,\n  absoluteRuntime: string | boolean,\n) {\n  if (absoluteRuntime === false) return moduleName;\n\n  return resolveAbsoluteRuntime(\n    moduleName,\n    path.resolve(dirname, absoluteRuntime === true ? \".\" : absoluteRuntime),\n  );\n}\n\nfunction resolveAbsoluteRuntime(moduleName: string, dirname: string) {\n  try {\n    return path\n      .dirname(\n        require.resolve(`${moduleName}/package.json`, { paths: [dirname] }),\n      )\n      .replace(/\\\\/g, \"/\");\n  } catch (err) {\n    if (err.code !== \"MODULE_NOT_FOUND\") throw err;\n\n    throw Object.assign(\n      new Error(`Failed to resolve \"${moduleName}\" relative to \"${dirname}\"`),\n      {\n        code: \"BABEL_RUNTIME_NOT_FOUND\",\n        runtime: moduleName,\n        dirname,\n      },\n    );\n  }\n}\n\nexport function resolveFSPath(path: string) {\n  return require.resolve(path).replace(/\\\\/g, \"/\");\n}\n"],"mappings":";;;;;;;;AAAA;;AAEA;;AAGe,kBACbA,UADa,EAEbC,OAFa,EAGbC,eAHa,EAIb;EACA,IAAIA,eAAe,KAAK,KAAxB,EAA+B,OAAOF,UAAP;EAE/B,OAAOG,sBAAsB,CAC3BH,UAD2B,EAE3BI,KAAI,CAACC,OAAL,CAAaJ,OAAb,EAAsBC,eAAe,KAAK,IAApB,GAA2B,GAA3B,GAAiCA,eAAvD,CAF2B,CAA7B;AAID;;AAED,SAASC,sBAAT,CAAgCH,UAAhC,EAAoDC,OAApD,EAAqE;EACnE,IAAI;IACF,OAAOG,KAAI,CACRH,OADI,CAEH;MAAA;IAAA;MAAA;;MAAA;MAAA;MAAA;MAAA;IAAA,GAAiB,GAAED,UAAW,eAA9B,EAA8C;MAAEM,KAAK,EAAE,CAACL,OAAD;IAAT,CAA9C,CAFG,EAIJM,OAJI,CAII,KAJJ,EAIW,GAJX,CAAP;EAKD,CAND,CAME,OAAOC,GAAP,EAAY;IACZ,IAAIA,GAAG,CAACC,IAAJ,KAAa,kBAAjB,EAAqC,MAAMD,GAAN;IAErC,MAAME,MAAM,CAACC,MAAP,CACJ,IAAIC,KAAJ,CAAW,sBAAqBZ,UAAW,kBAAiBC,OAAQ,GAApE,CADI,EAEJ;MACEQ,IAAI,EAAE,yBADR;MAEEI,OAAO,EAAEb,UAFX;MAGEC;IAHF,CAFI,CAAN;EAQD;AACF;;AAEM,SAASa,aAAT,CAAuBV,IAAvB,EAAqC;EAC1C,OAAOW,OAAO,CAACV,OAAR,CAAgBD,IAAhB,EAAsBG,OAAtB,CAA8B,KAA9B,EAAqC,GAArC,CAAP;AACD"}